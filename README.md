# DJ_Match
比赛思路：
    例：要预测2017-05-01~2017-05-31这个月内最有可能购买目标品类的用户，并预测他们在考察时间段内的首次购买日期。
    <1>生成3组训练集：包括训练数据和标签。
    第一组训练集用11，12，1，2月份的数据生成训练数据，用3月份的数据生成对应的标签(label1:用户是否在本月份购买，label2：用户在本月的第几天首次购买),groupby("user_id")
    第二组训练集用10，11，12，~01.28月份的数据生成训练数据，用01.29、01.30、01.31、2月份的数据生成对应的标签(label1:用户是否在本月份购买，label2：用户在本月的第几天首次购买),groupby("user_id")
    第三组训练集用9，10，11月份的数据生成训练数据，用12月份的数据生成对应的标签(label1:用户是否在本月份购买，label2：用户在本月的第几天首次购买),groupby("user_id")
    共生成两个模型，两个问题逐个分开解决
    <2>生成测试集：
    用1，2，3，4月份的数据生成测试数据,groupby("user_id")，预测5月份的情况。
    <3>预测：
    用这三组训练集训练模型，输入测试数据预测5月份的情况。

    
思考：
1>滑窗的意义？？？
    增加训练集数据量。从一年数据来看，购买量整体是不断在增长的，所以每一批数据可加入离预测月份的时间距离。
    
2>以多个月(比如4个月)的数据量作为训练集而不是单个月的作用：
    <1>消除因特殊时间点(比如双11)等波动较大的数据带来的影响。特殊时间点当月的数据在这多个月累加中被“稀释”了。因此得到的
    每一批数据都是相对客观符合全局的。
    <2>使数据信息更全面

3>本题中由于数据量的局限性，是无法找到与预测月份数据分布情况十分一致的数据集，但通过“稀释”可以达到目的。本题B榜不用6月作为
    测试集是因为6月这种特殊月份在现有的数据集中是无法预测的，所以现有的数据只能预测“正常”月份。

4>对于数据集的时间连续性，用不连续的月份做标签有无太大影响？ 应该是没有




特征工程：   挖掘出用户的哪些特点可能会影响他/她5月份再次购买101或30cate的商品
    特征可类比淘宝O2O、阿里妈妈广告点击率预估
    
    <1>统计特征
    <2>组合特征
    <3>时间特征
    <4>其他特征
    
    1>用户行为数据
            用户浏览或关注总次数的统计特征：sum,mean,max,min,median
            用户浏览行为总次数的统计特征：sum,mean,max,min,median
            用户关注行为总次数的统计特征：sum,mean,max,min,median
            
            用户浏览或关注商品的sku_id总类别数
            用户浏览或关注商品中价格的统计特征：sum,mean,max,min,median
            max_val,max_cate特征：用户浏览或关注次数最多的cate及次数
            用户浏览或关注商品中参数para_1的统计特征：sum,mean,max,min,median
            
            用户浏览商品的sku_id总类别数
            用户浏览商品中价格的统计特征：sum,mean,max,min,median
            max_val,max_cate特征：用户行为次数最多的cate及次数、浏览次数最多的cate及次数、关注次数最多的cate及次数、行为次数最多的sku_id及次数
            用户浏览商品中参数para_1的统计特征：sum,mean,max,min,median
            
            用户关注商品的sku_id总类别数
            用户关注商品中价格的统计特征：sum,mean,max,min,median
            max_val,max_cate特征：用户关注次数最多的cate及次数
            用户关注商品中参数para_1的统计特征：sum,mean,max,min,median
            
            用户最近一次行为距离预测月份第一天的时间差
            用户平均多少天行为一次
            用户平均每天的行为情况
            
            
    2>用户订单数据
            用户购买总次数的统计特征：sum,mean,max,min,median
            用户购买并评论总次数的统计特征：sum,mean,max,min,median
            
            用户购买商品的sku_id总类别数
            用户购买商品中价格的统计特征：sum,mean,max,min,median
            用户购买商品中参数para_1的统计特征：sum,mean,max,min,median
            
            用户购买过的商品所在的区域的个数
            用户购买次数最多的区域 (一个用户在在购买时可能会考虑发货地点离自己的地方近一点，如果数据中有用户的区域信息就更好了)
            用户下单件数最多的区域
            
            用户的下单件数统计特征：sum,mean,max,min,median
            用户的好评率、中评率、差评率、不评率 (*)
                
                
            用户最近一次购买距离预测月份第一天的时间差
            用户平均多少天购买一次
            用户平均每天的购买情况
            用户从下单到评论的平均时间 ... (*)
            
            
            用户对商品的忠诚度：
                用户购买次数最多的sku_id的次数
                max_val,max_cate特征：用户购买次数最多的cate及次数
                
            用户购买种类的集中度：购买商品的次数/购买商品的种类
            
            用户的转换率特征：用户历史购买的次数/用户历史行为(浏览或收藏)次数
            
    3>基本属性，商品属性之前已处理，用户基本属性
    




小结：
    训练集的数据和测试集的数据分布要一致，本题包括了数据和标签值的分布一致！！！！！！  
    分布情况可考虑：比如各个feature的数量分布；时间分布；空间分布
    
    本题题型：根据以往数据，预测以往数据中已有id(本质是统计这些id以往的行为特征)的未来时间段的表现情况。 (目的：老客户维护)
    
    python中变量的命名规范：https://www.cnblogs.com/Maker-Liu/p/5528213.html    注意代码规范，特别是变量的书写规范
    
    拍脑袋想出来的这么多特征要经过数据分析筛选后再放入模型中，这样才能建更好的模型，而不是全部扔进去后再用特征选择法删除
